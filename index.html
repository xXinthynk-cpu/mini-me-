<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Glinding Coffee</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial;margin:0;background:#111;color:white}
header{padding:20px;background:#000;display:flex;justify-content:space-between}
button{padding:8px 15px;background:#d4a373;border:none;cursor:pointer}
.container{padding:30px}
.product{background:#1e1e1e;padding:20px;margin-bottom:20px;border-radius:10px}
img{max-width:200px;border-radius:10px}
input,textarea{width:100%;padding:8px;margin:5px 0}
.hidden{display:none}
</style>
</head>

<body>

<header>
<h2>GLINDING COFFEE</h2>
<button onclick="showLogin()">Admin</button>
</header>

<div class="container">

<div id="productList"></div>

<div id="adminPanel" class="hidden">
<h3>Tambah Produk</h3>
<input type="text" id="title" placeholder="Judul">
<textarea id="desc" placeholder="Deskripsi"></textarea>
<input type="text" id="price" placeholder="Harga">
<input type="file" id="image">
<button onclick="addProduct()">Tambah</button>
<hr>
<button onclick="logout()">Logout</button>
</div>

<div id="loginPanel" class="hidden">
<h3>Login Admin</h3>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
</div>

</div>

<script>

let products = JSON.parse(localStorage.getItem("products")) || [];

function saveData(){
localStorage.setItem("products", JSON.stringify(products));
}

function displayProducts(){
let list = document.getElementById("productList");
list.innerHTML="";
products.forEach((p,index)=>{
list.innerHTML += `
<div class="product">
<h3>${p.title}</h3>
<img src="${p.image}">
<p>${p.desc}</p>
<b>${p.price}</b><br><br>
<button onclick="editProduct(${index})">Edit</button>
<button onclick="deleteProduct(${index})">Hapus</button>
</div>
`;
});
}

function addProduct(){
let title=document.getElementById("title").value;
let desc=document.getElementById("desc").value;
let price=document.getElementById("price").value;
let imageInput=document.getElementById("image");

let reader=new FileReader();
reader.onload=function(){
products.push({
title:title,
desc:desc,
price:price,
image:reader.result
});
saveData();
displayProducts();
};

if(imageInput.files[0]){
reader.readAsDataURL(imageInput.files[0]);
}
}

function deleteProduct(index){
products.splice(index,1);
saveData();
displayProducts();
}

function editProduct(index){
let newTitle=prompt("Edit Judul",products[index].title);
let newDesc=prompt("Edit Deskripsi",products[index].desc);
let newPrice=prompt("Edit Harga",products[index].price);

products[index].title=newTitle;
products[index].desc=newDesc;
products[index].price=newPrice;

saveData();
displayProducts();
}

function showLogin(){
document.getElementById("loginPanel").classList.remove("hidden");
}

function login(){
let user=document.getElementById("username").value;
let pass=document.getElementById("password").value;

if(user==="admin" && pass==="123456"){
document.getElementById("loginPanel").classList.add("hidden");
document.getElementById("adminPanel").classList.remove("hidden");
} else {
alert("Login salah");
}
}

function logout(){
document.getElementById("adminPanel").classList.add("hidden");
}

displayProducts();

</script>

</body>
</html>
